(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[525],{6086:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers",function(){return a(8399)}])},188:function(e,t,a){"use strict";a.d(t,{T:function(){return Logo}});var n=a(5893),r=a(2734);let Logo=()=>{let e=(0,r.Z)(),t=e.palette.primary.main;return(0,n.jsxs)("svg",{fill:"none",height:"100%",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{opacity:.16,d:"M7.242 11.083c.449-1.674 2.17-3.394 3.843-3.843l10.434-2.796c1.673-.448 2.666.545 2.218 2.218L20.94 17.096c-.449 1.674-2.17 3.394-3.843 3.843L6.664 23.735c-1.673.448-2.666-.545-2.218-2.218l2.796-10.434Z",fill:t}),(0,n.jsx)("path",{d:"M3.06 6.9c.448-1.674 2.168-3.394 3.842-3.843L17.336.261c1.673-.448 2.667.545 2.218 2.218l-2.796 10.434c-.449 1.674-2.169 3.394-3.843 3.843L2.481 19.552C.808 20-.185 19.007.263 17.334L3.06 6.9Z",fill:t})]})}},580:function(e,t,a){"use strict";a.d(t,{L:function(){return i}});var n=a(2729),r=a(4096),s=a(948);function _templateObject(){let e=(0,n._)([""]);return _templateObject=function(){return e},e}let i=(0,s.ZP)(r.Z)(_templateObject())},2042:function(e,t,a){"use strict";a.d(t,{a:function(){return useAuth}});var n=a(7294),r=a(9690);let useAuth=()=>(0,n.useContext)(r.Vo)},8115:function(e,t,a){"use strict";a.d(t,{A:function(){return z}});var n,r=a(5893),s=a(7294),i=a(9332),l=a(948),o=a(1163),c=a(5697),d=a.n(c),u=a(9690);let AuthGuard=e=>{let{children:t}=e,a=(0,o.useRouter)(),{isAuthenticated:n}=(0,u.Eu)(),r=(0,s.useRef)(!1),[i,l]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{a.isReady&&!r.current&&(r.current=!0,n?l(!0):(console.log("Not authenticated, redirecting"),a.replace({pathname:"/auth/login",query:"/"!==a.asPath?{continueUrl:a.asPath}:void 0}).catch(console.error)))},[a.isReady]),i)?t:null};AuthGuard.propTypes={children:d().node};var h=a(1664),p=a.n(h),x=a(8396),g=a(7357),m=a(7720),j=a(6447),Z=a(7533),f=a(188),v=a(580),b=a(9773),y=a(1402),C=a(3219);let S=[{title:"Overview",path:"/",icon:(0,r.jsx)(C.Z,{fontSize:"small",children:(0,r.jsx)(b.Z,{})})},{title:"Map",path:"/map",icon:(0,r.jsx)(C.Z,{fontSize:"small",children:(0,r.jsx)(y.Z,{})})}];var A=a(8879);let SideNavItem=e=>{let{active:t=!1,disabled:a,external:n,icon:s,path:i,title:l}=e,o=i?n?{component:"a",href:i,target:"_blank"}:{component:p(),href:i}:{};return(0,r.jsx)("li",{children:(0,r.jsxs)(A.Z,{sx:{alignItems:"center",borderRadius:1,display:"flex",justifyContent:"flex-start",pl:"16px",pr:"16px",py:"6px",textAlign:"left",width:"100%",...t&&{backgroundColor:"rgba(255, 255, 255, 0.04)"},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.04)"}},...o,children:[s&&(0,r.jsx)(g.Z,{component:"span",sx:{alignItems:"center",color:"neutral.400",display:"inline-flex",justifyContent:"center",mr:2,...t&&{color:"primary.main"}},children:s}),(0,r.jsx)(g.Z,{component:"span",sx:{color:"neutral.400",flexGrow:1,fontFamily:e=>e.typography.fontFamily,fontSize:14,fontWeight:600,lineHeight:"24px",whiteSpace:"nowrap",...t&&{color:"common.white"},...a&&{color:"neutral.500"}},children:l})]})})};SideNavItem.propTypes={active:d().bool,disabled:d().bool,external:d().bool,icon:d().node,path:d().string,title:d().string.isRequired};let SideNav=e=>{let{open:t,onClose:a}=e,n=(0,i.usePathname)(),s=(0,x.Z)(e=>e.breakpoints.up("lg")),l=(0,r.jsx)(v.L,{sx:{height:"100%","& .simplebar-content":{height:"100%"},"& .simplebar-scrollbar:before":{background:"neutral.400"}},children:(0,r.jsxs)(g.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,r.jsx)(g.Z,{sx:{p:3},children:(0,r.jsx)(g.Z,{component:p(),href:"/",sx:{display:"inline-flex",height:32,width:32},children:(0,r.jsx)(f.T,{})})}),(0,r.jsx)(m.Z,{sx:{borderColor:"neutral.700"}}),(0,r.jsx)(g.Z,{component:"nav",sx:{flexGrow:1,px:2,py:3},children:(0,r.jsx)(j.Z,{component:"ul",spacing:.5,sx:{listStyle:"none",p:0,m:0},children:S.map(e=>{let t=!!e.path&&n===e.path;return(0,r.jsx)(SideNavItem,{active:t,disabled:e.disabled,external:e.external,icon:e.icon,path:e.path,title:e.title},e.title)})})}),(0,r.jsx)(m.Z,{sx:{borderColor:"neutral.700"}})]})});return s?(0,r.jsx)(Z.ZP,{anchor:"left",open:!0,PaperProps:{sx:{backgroundColor:"neutral.800",color:"common.white",width:280}},variant:"permanent",children:l}):(0,r.jsx)(Z.ZP,{anchor:"left",onClose:a,open:t,PaperProps:{sx:{backgroundColor:"neutral.800",color:"common.white",width:280}},sx:{zIndex:e=>e.zIndex.appBar+100},variant:"temporary",children:l})};SideNav.propTypes={onClose:d().func,open:d().bool};var k=a(4149),P=a(4674),w=a(9661),T=a(1796),I=a(5724),N=a(5861),O=a(2096),R=a(3599),L=a(2042);let AccountPopover=e=>{let{anchorEl:t,onClose:a,open:n}=e,l=(0,i.useRouter)(),o=(0,L.a)(),c=(0,s.useCallback)(()=>{null==a||a(),o.signOut(),l.push("/auth/login")},[a,o,l]);return(0,r.jsxs)(I.ZP,{anchorEl:t,anchorOrigin:{horizontal:"left",vertical:"bottom"},onClose:a,open:n,PaperProps:{sx:{width:200}},children:[(0,r.jsxs)(g.Z,{sx:{py:1.5,px:2},children:[(0,r.jsx)(N.Z,{variant:"overline",children:"Account"}),(0,r.jsx)(N.Z,{color:"text.secondary",variant:"body2",children:"Anika Visser"})]}),(0,r.jsx)(m.Z,{}),(0,r.jsx)(O.Z,{disablePadding:!0,dense:!0,sx:{p:"8px","& > *":{borderRadius:1}},children:(0,r.jsx)(R.Z,{onClick:c,children:"Sign out"})})]})};AccountPopover.propTypes={anchorEl:d().any,onClose:d().func,open:d().bool.isRequired};let TopNav=e=>{let{onNavOpen:t}=e,a=(0,x.Z)(e=>e.breakpoints.up("lg")),n=function(){let e=(0,s.useRef)(null),[t,a]=(0,s.useState)(!1),n=(0,s.useCallback)(()=>{a(!0)},[]),r=(0,s.useCallback)(()=>{a(!1)},[]),i=(0,s.useCallback)(()=>{a(e=>!e)},[]);return{anchorRef:e,handleClose:r,handleOpen:n,handleToggle:i,open:t}}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.Z,{component:"header",sx:{backdropFilter:"blur(6px)",backgroundColor:e=>(0,T.Fq)(e.palette.background.default,.8),position:"sticky",left:{lg:"".concat(280,"px")},top:0,width:{lg:"calc(100% - ".concat(280,"px)")},zIndex:e=>e.zIndex.appBar},children:(0,r.jsxs)(j.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,sx:{minHeight:64,px:2},children:[(0,r.jsx)(j.Z,{alignItems:"center",direction:"row",spacing:2,children:!a&&(0,r.jsx)(P.Z,{onClick:t,children:(0,r.jsx)(C.Z,{fontSize:"small",children:(0,r.jsx)(k.Z,{})})})}),(0,r.jsx)(j.Z,{alignItems:"center",direction:"row",spacing:2,children:(0,r.jsx)(w.Z,{onClick:n.handleOpen,ref:n.anchorRef,sx:{cursor:"pointer",height:40,width:40},src:"/assets/avatars/sun.jpg"})})]})}),(0,r.jsx)(AccountPopover,{anchorEl:n.anchorRef.current,open:n.open,onClose:n.handleClose})]})};TopNav.propTypes={onNavOpen:d().func};let D=(0,l.ZP)("div")(e=>{let{theme:t}=e;return{display:"flex",flex:"1 1 auto",maxWidth:"100%",[t.breakpoints.up("lg")]:{paddingLeft:280}}}),_=(0,l.ZP)("div")({display:"flex",flex:"1 1 auto",flexDirection:"column",width:"100%"}),z=(n=e=>{let{children:t}=e,a=(0,i.usePathname)(),[n,l]=(0,s.useState)(!1),o=(0,s.useCallback)(()=>{n&&l(!1)},[n]);return(0,s.useEffect)(()=>{o()},[a]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(TopNav,{onNavOpen:()=>l(!0)}),(0,r.jsx)(SideNav,{onClose:()=>l(!1),open:n}),(0,r.jsx)(D,{children:(0,r.jsx)(_,{children:t})})]})},e=>(0,r.jsx)(AuthGuard,{children:(0,r.jsx)(n,{...e})}))},8399:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return z}});var n=a(5893),r=a(7294),s=a(9008),i=a.n(s),l=a(7069),o=a(8330),c=a(3557),d=a(2952),u=a(8005),h=a(7357),p=a(5582),x=a(6447),g=a(5861),m=a(3321),j=a(3219);let useSelection=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,a]=(0,r.useState)([]);(0,r.useEffect)(()=>{a([])},[e]);let n=(0,r.useCallback)(()=>{a([...e])},[e]),s=(0,r.useCallback)(e=>{a(t=>[...t,e])},[]),i=(0,r.useCallback)(()=>{a([])},[]),l=(0,r.useCallback)(e=>{a(t=>t.filter(t=>t!==e))},[]);return{handleDeselectAll:i,handleDeselectOne:l,handleSelectAll:n,handleSelectOne:s,selected:t}};var Z=a(8115),f=a(5697),v=a.n(f),b=a(2912),y=a(6242),C=a(7906),S=a(3184),A=a(3816),k=a(8102),P=a(5071),w=a(295),T=a(9661),I=a(1802),N=a(580);let getInitials=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map(e=>e&&e[0].toUpperCase()).join("")},CustomersTable=e=>{let{count:t=0,items:a=[],onDeselectAll:r,onDeselectOne:s,onPageChange:i=()=>{},onRowsPerPageChange:l,onSelectAll:o,onSelectOne:c,page:d=0,rowsPerPage:u=0,selected:p=[]}=e,m=p.length>0&&p.length<a.length,j=a.length>0&&p.length===a.length;return(0,n.jsxs)(y.Z,{children:[(0,n.jsx)(N.L,{children:(0,n.jsx)(h.Z,{sx:{minWidth:800},children:(0,n.jsxs)(C.Z,{children:[(0,n.jsx)(S.Z,{children:(0,n.jsxs)(A.Z,{children:[(0,n.jsx)(k.Z,{padding:"checkbox",children:(0,n.jsx)(P.Z,{checked:j,indeterminate:m,onChange:e=>{e.target.checked?null==o||o():null==r||r()}})}),(0,n.jsx)(k.Z,{children:"Name"}),(0,n.jsx)(k.Z,{children:"Email"}),(0,n.jsx)(k.Z,{children:"Location"}),(0,n.jsx)(k.Z,{children:"Phone"}),(0,n.jsx)(k.Z,{children:"Signed Up"})]})}),(0,n.jsx)(w.Z,{children:a.map(e=>{let t=p.includes(e.id),a=(0,b.Z)(e.createdAt,"dd/MM/yyyy");return(0,n.jsxs)(A.Z,{hover:!0,selected:t,children:[(0,n.jsx)(k.Z,{padding:"checkbox",children:(0,n.jsx)(P.Z,{checked:t,onChange:t=>{t.target.checked?null==c||c(e.id):null==s||s(e.id)}})}),(0,n.jsx)(k.Z,{children:(0,n.jsxs)(x.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,n.jsx)(T.Z,{src:e.avatar,children:getInitials(e.name)}),(0,n.jsx)(g.Z,{variant:"subtitle2",children:e.name})]})}),(0,n.jsx)(k.Z,{children:e.email}),(0,n.jsxs)(k.Z,{children:[e.address.city,", ",e.address.state,", ",e.address.country]}),(0,n.jsx)(k.Z,{children:e.phone}),(0,n.jsx)(k.Z,{children:a})]},e.id)})})]})})}),(0,n.jsx)(I.Z,{component:"div",count:t,onPageChange:i,onRowsPerPageChange:l,page:d,rowsPerPage:u,rowsPerPageOptions:[5,10,25]})]})};CustomersTable.propTypes={count:v().number,items:v().array,onDeselectAll:v().func,onDeselectOne:v().func,onPageChange:v().func,onRowsPerPageChange:v().func,onSelectAll:v().func,onSelectOne:v().func,page:v().number,rowsPerPage:v().number,selected:v().array};var O=a(9396),R=a(7709),L=a(7109);let CustomersSearch=()=>(0,n.jsx)(y.Z,{sx:{p:2},children:(0,n.jsx)(R.Z,{defaultValue:"",fullWidth:!0,placeholder:"Search customer",startAdornment:(0,n.jsx)(L.Z,{position:"start",children:(0,n.jsx)(j.Z,{color:"action",fontSize:"small",children:(0,n.jsx)(O.Z,{})})}),sx:{maxWidth:500}})}),D=new Date,_=[{id:"5e887ac47eed253091be10cb",address:{city:"Cleveland",country:"USA",state:"Ohio",street:"2849 Fulton Street"},avatar:"/assets/avatars/avatar-carson-darrin.png",createdAt:(0,l.Z)((0,o.Z)(D,7),1).getTime(),email:"carson.darrin@devias.io",name:"Carson Darrin",phone:"304-428-3097"},{id:"5e887b209c28ac3dd97f6db5",address:{city:"Atlanta",country:"USA",state:"Georgia",street:"1865  Pleasant Hill Road"},avatar:"/assets/avatars/avatar-fran-perez.png",createdAt:(0,l.Z)((0,o.Z)(D,1),2).getTime(),email:"fran.perez@devias.io",name:"Fran Perez",phone:"712-351-5711"},{id:"5e887b7602bdbc4dbb234b27",address:{city:"North Canton",country:"USA",state:"Ohio",street:"4894  Lakeland Park Drive"},avatar:"/assets/avatars/avatar-jie-yan-song.png",createdAt:(0,l.Z)((0,o.Z)(D,4),2).getTime(),email:"jie.yan.song@devias.io",name:"Jie Yan Song",phone:"770-635-2682"},{id:"5e86809283e28b96d2d38537",address:{city:"Madrid",country:"Spain",name:"Anika Visser",street:"4158  Hedge Street"},avatar:"/assets/avatars/avatar-anika-visser.png",createdAt:(0,l.Z)((0,o.Z)(D,11),2).getTime(),email:"anika.visser@devias.io",name:"Anika Visser",phone:"908-691-3242"},{id:"5e86805e2bafd54f66cc95c3",address:{city:"San Diego",country:"USA",state:"California",street:"75247"},avatar:"/assets/avatars/avatar-miron-vitold.png",createdAt:(0,l.Z)((0,o.Z)(D,7),3).getTime(),email:"miron.vitold@devias.io",name:"Miron Vitold",phone:"972-333-4106"},{id:"5e887a1fbefd7938eea9c981",address:{city:"Berkeley",country:"USA",state:"California",street:"317 Angus Road"},avatar:"/assets/avatars/avatar-penjani-inyene.png",createdAt:(0,l.Z)((0,o.Z)(D,5),4).getTime(),email:"penjani.inyene@devias.io",name:"Penjani Inyene",phone:"858-602-3409"},{id:"5e887d0b3d090c1b8f162003",address:{city:"Carson City",country:"USA",state:"Nevada",street:"2188  Armbrester Drive"},avatar:"/assets/avatars/avatar-omar-darboe.png",createdAt:(0,l.Z)((0,o.Z)(D,15),4).getTime(),email:"omar.darobe@devias.io",name:"Omar Darobe",phone:"415-907-2647"},{id:"5e88792be2d4cfb4bf0971d9",address:{city:"Los Angeles",country:"USA",state:"California",street:"1798  Hickory Ridge Drive"},avatar:"/assets/avatars/avatar-siegbert-gottfried.png",createdAt:(0,l.Z)((0,o.Z)(D,2),5).getTime(),email:"siegbert.gottfried@devias.io",name:"Siegbert Gottfried",phone:"702-661-1654"},{id:"5e8877da9a65442b11551975",address:{city:"Murray",country:"USA",state:"Utah",street:"3934  Wildrose Lane"},avatar:"/assets/avatars/avatar-iulia-albu.png",createdAt:(0,l.Z)((0,o.Z)(D,8),6).getTime(),email:"iulia.albu@devias.io",name:"Iulia Albu",phone:"313-812-8947"},{id:"5e8680e60cba5019c5ca6fda",address:{city:"Salt Lake City",country:"USA",state:"Utah",street:"368 Lamberts Branch Road"},avatar:"/assets/avatars/avatar-nasimiyu-danai.png",createdAt:(0,l.Z)((0,o.Z)(D,1),9).getTime(),email:"nasimiyu.danai@devias.io",name:"Nasimiyu Danai",phone:"801-301-7894"}],useCustomers=(e,t)=>(0,r.useMemo)(()=>_.slice(e*t,e*t+t),[e,t]),useCustomerIds=e=>(0,r.useMemo)(()=>e.map(e=>e.id),[e]),Page=()=>{let[e,t]=(0,r.useState)(0),[a,s]=(0,r.useState)(5),l=useCustomers(e,a),o=useCustomerIds(l),Z=useSelection(o),f=(0,r.useCallback)((e,a)=>{t(a)},[]),v=(0,r.useCallback)(e=>{s(e.target.value)},[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i(),{children:(0,n.jsx)("title",{children:"Customers | Devias Kit"})}),(0,n.jsx)(h.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,n.jsx)(p.Z,{maxWidth:"xl",children:(0,n.jsxs)(x.Z,{spacing:3,children:[(0,n.jsxs)(x.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[(0,n.jsxs)(x.Z,{spacing:1,children:[(0,n.jsx)(g.Z,{variant:"h4",children:"Customers"}),(0,n.jsxs)(x.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,n.jsx)(m.Z,{color:"inherit",startIcon:(0,n.jsx)(j.Z,{fontSize:"small",children:(0,n.jsx)(d.Z,{})}),children:"Import"}),(0,n.jsx)(m.Z,{color:"inherit",startIcon:(0,n.jsx)(j.Z,{fontSize:"small",children:(0,n.jsx)(c.Z,{})}),children:"Export"})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)(m.Z,{startIcon:(0,n.jsx)(j.Z,{fontSize:"small",children:(0,n.jsx)(u.Z,{})}),variant:"contained",children:"Add"})})]}),(0,n.jsx)(CustomersSearch,{}),(0,n.jsx)(CustomersTable,{count:_.length,items:l,onDeselectAll:Z.handleDeselectAll,onDeselectOne:Z.handleDeselectOne,onPageChange:f,onRowsPerPageChange:v,onSelectAll:Z.handleSelectAll,onSelectOne:Z.handleSelectOne,page:e,rowsPerPage:a,selected:Z.selected})]})})})]})};Page.getLayout=e=>(0,n.jsx)(Z.A,{children:e});var z=Page}},function(e){e.O(0,[540,199,39,210,436,308,457,774,888,179],function(){return e(e.s=6086)}),_N_E=e.O()}]);